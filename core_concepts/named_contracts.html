<!DOCTYPE html>
<html lang="en" data-accent-color="orange" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Named Contracts - moccasin documentation</title><link rel="shortcut icon" href="../_static/favicon.svg"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Manifest Named Contract (get_or_deploy_named_contract)" href="named_contracts/manifest_named.html" /><link rel="prev" title="Removing Dependencies (Purge)" href="dependencies/purging.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=397bb51e" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=83eaa723" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Named Contracts"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:creator" content="@cyfrinaudits"/>
<meta name="twitter:site" content="@cyfrinaudits"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../toctree.html">
      
      
      <strong>moccasin</strong>
    </a>
    <div class="sy-head-nav" id="HeadNav">
      <nav class="sy-head-links"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials">
  <a href="https://github.com/cyfrin" aria-label="GitHub">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </a>
<a href="https://twitter.com/cyfrinaudits" aria-label="X (Twitter)">
  <iconify-icon icon="prime:twitter"></iconify-icon>
</a></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="HeadNav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing_moccasin.html">Installing Moccasin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Core Concepts</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="moccasin_toml.html">moccasin.toml</a></li>
<li class="toctree-l1"><a class="reference internal" href="project.html">Project Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="networks.html">Networks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="networks/pyevm.html">pyevm</a></li>
<li class="toctree-l2"><a class="reference internal" href="networks/eravm.html">eravm</a></li>
<li class="toctree-l2"><a class="reference internal" href="networks/forked_networks.html">Forked Networks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dependencies/virtual_environments.html">Working with python dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="dependencies/purging.html">Removing dependencies (purge)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Named Contracts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="named_contracts/manifest_named.html">Manifest Named Contract</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testing/gas_profiling.html">Gas Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing/coverage.html">Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing/fixtures.html">Fixtures</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing/titanoboa_testing.html">Testing with boa</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing/pranking.html">How to prank</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing/staging_markers.html">Staging Markers</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing/fuzzing.html">Fuzzing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wallet.html">Wallet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="wallet/private_key.html">Private Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="wallet/config_keys.html">Accounts in mocasin.toml</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="script.html">Scripting (run)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scripting/console.html">Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="scripting/deploy.html">Deploy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deployments.html">Deployments</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">How-to Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../how-tos/verify_contracts.html">Contract Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-tos/stateless_fuzzing.html">Stateless Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-tos/stateful_fuzzing.html">Stateful Fuzzing</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/zksync-getting-started.html">ZKsync</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli_commands.html">CLI Command Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/compile.html">compile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/config.html">config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/console.html">console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/deploy.html">deploy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/deployments.html">deployments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/explorer.html">explorer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/init.html">init</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/inspect.html">inspect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/install.html">install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/purge.html">purge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/run.html">run</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/test.html">test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_reference/wallet.html">wallet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../class_reference.html">Classes Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/config_reference.html"><code class="docutils literal notranslate"><span class="pre">Config</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/moccasin_account_reference.html"><code class="docutils literal notranslate"><span class="pre">MoccasinAccount</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/named_contract_reference.html"><code class="docutils literal notranslate"><span class="pre">NamedContract</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/network_reference.html"><code class="docutils literal notranslate"><span class="pre">Network</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/networks_reference.html"><code class="docutils literal notranslate"><span class="pre">_Networks</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../all_moccasin_toml_parameters.html">All moccasin toml parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explorer_network_defaults.html">Explorer and Network Default Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common_errors.html">Common Errors</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#named-contract-example-minimal-example">Named Contract Example - Minimal Example</a></li>
<li><a class="reference internal" href="#named-contract-example-interacting-with-the-contract">Named Contract Example - Interacting with the contract</a></li>
</ul>
</div><a class="js-repo-stats repo-stats flex items-center" href="https://github.com/cyfrin/moccasin"
  data-type="github" data-user="cyfrin" data-repo="moccasin">
  <span class="w-8 flex items-center justify-around shrink-0 text-3xl">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </span>
  <span class="flex-grow px-2 break-all">
    <span>cyfrin/moccasin</span>
    <span class="flex text-sm repo-stats-count">
      <span class="flex items-center pr-3">
        <iconify-icon icon="lucide:star"></iconify-icon>
        <strong class="js-repo-stars ml-1">0</strong>
      </span>
      <span class="flex items-center">
        <iconify-icon icon="lucide:git-fork"></iconify-icon>
        <strong class="js-repo-forks ml-1">0</strong>
      </span>
    </span>
  </span>
</a><div class="edit-this-page">
  <a href="https://github.com/cyfrin/moccasin/blob/master/docs/core_concepts/named_contracts.rst">Edit this page</a>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6"><div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../toctree.html"><span itemprop="name">moccasin</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Named Contracts</strong>
        <meta itemprop="position" content="2" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="named-contracts">
<h1>Named Contracts<a class="headerlink" href="#named-contracts" title="Link to this heading">¶</a></h1>
<p>One of the major differentiators between moccasin and other smart contract development tools is more flexible and powerful scripting. One of the such cabailities is built in <a class="reference internal" href="testing/fixtures.html"><span class="doc">fixtures</span></a> and <a class="reference internal" href="#"><span class="doc">named contracts</span></a>.</p>
<p><strong>Named contracts allow you to define deployment scripts, addresses by chain, fixtures settings for testing, and more.</strong></p>
<section id="named-contract-example-minimal-example">
<h2>Named Contract Example - Minimal Example<a class="headerlink" href="#named-contract-example-minimal-example" title="Link to this heading">¶</a></h2>
<p>Let’s look at a minimal <code class="docutils literal notranslate"><span class="pre">moccasin.toml</span></code> with a ETH mainnet network fork with a named contract:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">[project]</span>
</span><span data-line="2"><span class="n">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;contracts&quot;</span>
</span><span data-line="3">
</span><span data-line="4"><span class="k">[networks.mainnet-fork]</span>
</span><span data-line="5"><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://ethereum-rpc.publicnode.com&quot;</span>
</span><span data-line="6"><span class="n">chain_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</span><span data-line="7"><span class="n">fork</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span data-line="8">
</span><span data-line="9"><span class="c1"># Look here! We have a named contract named &quot;usdc&quot;</span>
</span><span data-line="10"><span class="k">[networks.mainnet-fork.contracts]</span>
</span><span data-line="11"><span class="n">usdc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48&quot;</span><span class="p">}</span>
</span></pre></div>
</div>
<p>The <cite>NamedContract</cite> in this case, is <cite>usdc</cite>. And it’s this named contract that we can access our scripts!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span> <span class="nn">moccasin.config</span> <span class="kn">import</span> <span class="n">get_config</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">def</span> <span class="nf">print_contract_address</span><span class="p">():</span>
</span><span data-line="4">    <span class="n">active_network</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">get_active_network</span><span class="p">()</span>
</span><span data-line="5">    <span class="n">named_contract</span> <span class="o">=</span> <span class="n">active_network</span><span class="o">.</span><span class="n">get_named_contract</span><span class="p">(</span><span class="s2">&quot;usdc&quot;</span><span class="p">)</span>
</span><span data-line="6">    <span class="nb">print</span><span class="p">(</span><span class="n">named_contract</span><span class="o">.</span><span class="n">address</span><span class="p">)</span>
</span><span data-line="7">
</span><span data-line="8"><span class="k">def</span> <span class="nf">moccasin_main</span><span class="p">():</span>
</span><span data-line="9">    <span class="n">print_contract_address</span><span class="p">()</span>
</span></pre></div>
</div>
<p>We could run this script, and it would, print out the address from our config.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">mox<span class="w"> </span>run<span class="w"> </span>print_contract_address<span class="w"> </span>--network<span class="w"> </span>mainnet-fork
</span><span data-line="2">
</span><span data-line="3">0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48
</span></pre></div>
</div>
</section>
<section id="named-contract-example-interacting-with-the-contract">
<span id="manifest-intro"></span><h2>Named Contract Example - Interacting with the contract<a class="headerlink" href="#named-contract-example-interacting-with-the-contract" title="Link to this heading">¶</a></h2>
<p>Now, just getting the address is pretty boring, typically you want to interact with the contract. To do so, we have a number of parameters you can set in the config to get the contract ABI (Application Binary Interface).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can learn more about what an ABI is from <a class="reference external" href="https://updraft.cyfrin.io/courses/solidity/storage-factory/interacting-with-smart-contracts-abi?lesson_format=video">Cyfrin Updraft</a> or the <a class="reference external" href="https://www.cyfrin.io/blog/what-is-a-smart-contract-abi-and-how-to-get-it">Cyfrin Blog</a>.</p>
</div>
<p>There are a number of flags we can set for our <code class="docutils literal notranslate"><span class="pre">NamedContract</span></code>:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-dHJ1ZS10b21s" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-dHJ1ZS10b21s" name="dHJ1ZS10b21s" role="tab" tabindex="0">true-toml</button><button aria-controls="panel-0-dWdseS10b21s" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-dWdseS10b21s" name="dWdseS10b21s" role="tab" tabindex="-1">ugly-toml</button></div><div aria-labelledby="tab-0-dHJ1ZS10b21s" class="sphinx-tabs-panel code-tab group-tab" id="panel-0-dHJ1ZS10b21s" name="dHJ1ZS10b21s" role="tabpanel" tabindex="0"><div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">[networks.mainnet-fork.contracts.usdc]</span>
</span><span data-line="2"><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48&quot;</span>
</span><span data-line="3"><span class="n">abi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ERC20.vy&quot;</span>
</span><span data-line="4"><span class="n">abi_from_explorer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span data-line="5"><span class="n">deployment_script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;script/deploy_erc20.py&quot;</span>
</span><span data-line="6"><span class="n">force_deploy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span></pre></div>
</div>
</div><div aria-labelledby="tab-0-dWdseS10b21s" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-0-dWdseS10b21s" name="dWdseS10b21s" role="tabpanel" tabindex="0"><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Did you know that this format will work the same?</span>
</span><span data-line="2"><span class="c1"># It&#39;s technically the &quot;uglier&quot; version toml</span>
</span><span data-line="3"><span class="o">[</span>networks.mainnet-fork.contracts<span class="o">]</span>
</span><span data-line="4"><span class="nv">usdc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
</span><span data-line="5"><span class="w">    </span><span class="nv">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48&quot;</span>
</span><span data-line="6"><span class="w">    </span><span class="nv">abi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ERC20.vy&quot;</span>
</span><span data-line="7"><span class="w">    </span><span class="nv">abi_from_explorer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span data-line="8"><span class="w">    </span><span class="nv">deployment_script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;script/deploy_erc20.py&quot;</span>
</span><span data-line="9"><span class="w">    </span><span class="nv">force_deploy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</span><span data-line="10"><span class="o">}</span>
</span></pre></div>
</div>
</div></div>
<p>Let’s break these down:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">address</span></code>: The address of the contract on the network.</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">abi`</span></code>: The ABI source of the contract. This is can be any of the following:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">.json</span></code> file path to an ABI file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.vy</span></code> file path to a Vyper contract</p></li>
<li><p><em>Coming soon</em> <code class="docutils literal notranslate"><span class="pre">.vyi</span></code> file path to a Vyper interface</p></li>
<li><p>A “raw” ABI string</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">abi_from_explorer</span></code>: If you want to get the ABI from an explorer. This is useful if you don’t have the ABI and you want to get it from a public source. You’ll need to set a <code class="docutils literal notranslate"><span class="pre">explorer_api_key</span></code> in your <code class="docutils literal notranslate"><span class="pre">moccasin.toml</span></code>, or an <code class="docutils literal notranslate"><span class="pre">EXPLORER_API_KEY</span></code> environment variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deployment_script</span></code>: The path to the <a class="reference internal" href="scripting/deploy.html"><span class="doc">deployment script</span></a> for this named contract, this will be a shorthand for deploying in the future.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">force_deploy`</span></code>: If you want to force deploy the contract when <a class="reference internal" href="named_contracts/manifest_named.html#manifesting"><span class="std std-ref">manifesting</span></a> the contract.</p></li>
</ul>
<p>As we know, to interact with a contract, one of the most important things is the ABI. For us to interact with any named contract, we give it an ABI, and we can start interacting with that named contract using the <code class="docutils literal notranslate"><span class="pre">manifest_named</span></code> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span> <span class="nn">moccasin.config</span> <span class="kn">import</span> <span class="n">get_config</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">def</span> <span class="nf">print_contract_address</span><span class="p">():</span>
</span><span data-line="4">    <span class="n">active_network</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">get_active_network</span><span class="p">()</span>
</span><span data-line="5">    <span class="n">usdc</span><span class="p">:</span> <span class="n">VyperContract</span> <span class="o">=</span> <span class="n">active_network</span><span class="o">.</span><span class="n">manifest_named</span><span class="p">(</span><span class="s2">&quot;usdc&quot;</span><span class="p">)</span>
</span><span data-line="6">    <span class="n">decimals</span> <span class="o">=</span> <span class="n">usdc</span><span class="o">.</span><span class="n">decimals</span><span class="p">()</span>
</span><span data-line="7">    <span class="nb">print</span><span class="p">(</span><span class="n">decimals</span><span class="p">)</span>
</span><span data-line="8">
</span><span data-line="9"><span class="k">def</span> <span class="nf">moccasin_main</span><span class="p">():</span>
</span><span data-line="10">    <span class="n">print_contract_address</span><span class="p">()</span>
</span></pre></div>
</div>
<p>And running this on <code class="docutils literal notranslate"><span class="pre">mainnet-fork</span></code> will get the resulting output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Run this</span>
</span><span data-line="2">mox<span class="w"> </span>run<span class="w"> </span>print_contract_address<span class="w"> </span>--network<span class="w"> </span>mainnet-fork
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Output</span>
</span><span data-line="5"><span class="m">6</span><span class="w"> </span><span class="c1"># USDC has 6 decimals because it is weird</span>
</span></pre></div>
</div>
<p>The key here, was the <code class="docutils literal notranslate"><span class="pre">mainifest_contract</span></code>, which does a lot of things under the hood, including:</p>
<ul class="simple">
<li><p>Deploys a contract if one doesn’t exist</p></li>
<li><p>Allows us to get fixtures for testing</p></li>
<li><p>Returns the named contract at it’s address if it’s on a chain we recognize</p></li>
<li><p>Sets up local testing environments for us to test our contracts</p></li>
</ul>
<p>And more! Let’s read more about the power of <code class="docutils literal notranslate"><span class="pre">NamedContract</span></code>s and how they can help you in your development process.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="named_contracts/manifest_named.html">Manifest Named Contract</a></li>
</ul>
</div>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="dependencies/purging.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Removing Dependencies (Purge)</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="named_contracts/manifest_named.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Manifest Named Contract (<code class="docutils literal notranslate"><span class="pre">get_or_deploy_named_contract</span></code>)</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2024, Patrick Collins, Charles Cooper</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/cyfrin" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a>
<a href="https://twitter.com/cyfrinaudits" aria-label="X (Twitter)">
  <iconify-icon icon="prime:twitter"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/shibuya.js?v=e2e99575"></script>
      <script src="../_static/tabs.js?v=3030b3cb"></script></body>
</html>